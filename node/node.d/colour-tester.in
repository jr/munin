#!/bin/bash

# Requires munin master version 1.2.5 or 1.3.3 or higher

#        Reds   Greens Blues Oranges Dk yel Dk blu Purple Green/lime   
COLOURS="FF0000 00CC00 0066B3 FF8000 FFCC00 330099 990099 CCFF00
         B30000 008F00 00487D B35A00 B38F00        6B006B 8FB300
         FFBFBF BFFFBF BFE4FF FFDFBF FFF2BF D5BFFF FFBFFF F2FFBF
         FF8080 80FF80 80C9FF FFC080 FFE680 AA80FF FF80FF E6FF80"

# Removed: Dark blue line 2: 24006B
# Sette inn: to graaa, svart, lysere brun, mork brun, 2x oliven,
# sjokk-rosa
# http://www.visibone.com/color/chart_847.gif

I=1
for C in $COLOURS; do
    col[$I]="$C"
    I=$(($I + 1))
done
NUMCOL=$(($I - 1))


do_ () { # Fetch
   for I in $(seq 1 $NUMCOL); do
       echo "l$I.value $I"
   done
}

do_config () {
    echo "graph_title Colour testing plugin"
    echo "graph_vtitle Colour index and colour"
    for I in $(seq 1 $NUMCOL); do
	echo "l$I.label "${col[$I]}
	echo "l$I.colour "${col[$I]}
	echo "l$I.type GAUGE"
    done
}

case $1 in
    ''|config) eval do_$1;;
    *) echo Error >&2; exit 1;;
esac
