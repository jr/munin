munin (0+1.0.0pre5-1) unstable; urgency=low

  * New upstream release:
      - Apache plugins' autoconf routines should be fixed, closes: #236144.
      - The node now applies plugin user settings at startup, closes: #236694.
      - Fixed link rot in the templates, closes: #236792.
      - graph_scale improved to use rrdgraph --units-exponent, closes: #236834.
      - Improves the labels of the Apache plugins, closes: #238594.
      - Improved sensors_* plugins to better cope with various output from
        /usr/bin/sensors, closes: #245289.
      - Adds new plugin for NFS statistics, closes: #223775.

  * debian/rules:
      - Include "contrib" plugins as well as "auto" and "manual" in the
        munin-node package, closes: #236939, #236972, #245104.

  * Makefile:
      - Ignore the return value of htmldoc, as it's begun returning non-zero
        if it encountered a non-fatal error in the document.

 -- Tore Anderson <tore@debian.org>  Fri, 21 May 2004 20:51:19 +0200

munin (0+1.0.0pre3-1) unstable; urgency=low

  * New upstream release, closes: #231049:
      - Project renamed from "LRRD" to "Munin".  Almost every file in the
        debian directory has changed both name and content due to this, and
        the changes related to this are far too numerous to detail here.
      - iostat plugin now works on Linux 2.6, closes: #224113.
      - mysql_queries now appends ".value" to the fields, closes: #224118.
      - Munin-node now ignores config files names suggesting they're backup
        files of some sort (such as "foo.dpkg-old"), closes: #224265.
      - Munin-node now doesn't attempt to drop privileges using setuid() and
        setgid() if it's not running as root to begin with, closes: #224300.
      - Untaint %ENV unconditionally;  let the admin shoot himself in the foot
        if he wants to, closes: #224838, #224878.
      - Munin-update now allows any character in service names (although it
        translates exotic ones to "_"), closes: #224859.
      - Munin-graph now handles bogus input from plugins more gracefully,
        closes: #224942.
      - Munin-update doesn't any longer complain on stderr if a node times out
        in mid-transfer, closes: #227650.
      - Incorporates Mike Fedyk's many improvements to the memory plugin,
        closes: #223346.
      - The iostat graph is now mirrored over the X axis, making it much
        easier to read, closes: #223373.
      - Fix buggy HTML in the service view, closes: #230322.
      - Limit the maximum values from the vmstat plugin to 500000, to avoid
        spurious peaks to sneak in, closes: #225489, #225626.
      - Further improvements to related to timeout handling, closes: #224480.

  * debian/plugins.conf:
      - Run the Exim mailstats plugin in the groups "mail" and "adm", to
        ensure we can read the log files we need, closes: #225988.
      - Run the Exim mailqueue plugin with "Debian-exim" as a supplementary
        group if it exists, closes: #229860.

  * debian/munin-node.init:
      - Use a full string match instead of a substring match when looking
        in the process table for running Munin-node processes, closes: #224486.
      - Remove $(<file) bashism, closes: #230116.

  * debian/munin.preinst (new), debian/munin-node.preinst (new):
      - If we're doing an initial install of either of the Munin packages
        on a system with LRRD configuration files and data lying around,
        create the initial Munin configuration and data set based on the
        old files from LRRD.

 -- Tore Anderson <tore@debian.org>  Thu, 05 Feb 2004 19:15:14 +0100

lrrd (0.9.9r5-1) unstable; urgency=low

  * New upstream release:
      - Allows for customizing which port to connect to when the server is
        talking to its clients, closes: #214114.
      - Makes it possible to change the plugins' environment arbitrarily,
        sort-of closes: #214277.
      - Relaxes the paranoia regarding the plugins' ownership and permission
        modes somewhat, closes: #214186, #216401.
      - Further impovements to the error-handling logic in lrrd-server, which
        hopefully closes: #215739, #222674, #222821.
      - Removed the spurious use of Config::General in lrrd-client,
        closes: #216176.
      - Includes Andras Korn's psu_ wildcard plugin, which counts the number
        of processes owned by specific users, closes: #214210.  Thanks, Andras!
      - The number of context switches per second is now graphed by the
        interrupts plugin, closes: #222838.  Thanks, Mike Fedyk!
      - Corrected field names in the vmstat plugin, closes: #222841.  Thanks
        again, Mike Fedyk!

  * debian/control:
      - Drop dependency on libconfig-general-perl for lrrd-server, as this
        configuration file format is now deprecated.
      - Change priority to extra, due to the dependency on librrds-perl.

  * debian/rules:
      - Polished slightly.

  * debian/lrrd-client.dirs:
      - Removed unecessary entry /var/run/lrrd, which is installed from the
        Makefile.

  * debian/lrrd-client.init:
      - Rewritten, now sports improved error handling and intrinsic distrust of
        start-stop-daemon's return values, closes: #202190.

  * debian/lrrd-server.cron.d:
      - Check if the binaries we're about to run exist and are executable
        before running them, closes: #221691.

  * debian/lrrd-client.postinst, debian/lrrd-server.postinst:
      - If we're updating from the packages which didn't create the lrrd system
        group, try to make the GID the same as the already existing lrrd users'
        UID, if it's available.

  * debian/lrrd-client.postinst:
      - Rewritten as a shell script.
      - Initial plugin setup now relies on lrrd-client-configure instead of an
        internal function to to initialize plugins.  This also ensures that
        automatic plugins later added to the package will be enabled on
        upgrades.
      - The plugins' state files was inappropriately placed in /var/run, move
        them to /var/lib if any exist in the former location.

  * debian/lrrd-server.postinst:
      - Actually check how we're called, don't blindly assume we're
        configuring.

  * debian/lrrd-server.postrm, debian/lrrd-client.postrm:
      - Better handling of empty dirs after purge.  (This is workaround for
        dpkg bug #198522).

  * debian/lrrd-server.postrm:
      - Remove some ucf stuff I had forgotten about.

  * debian/plugins.conf:
      - Updated to the new syntax for passing options to the plugins.

  * debian/Makefile.config:
      - Now only contains overrides to the upstream defaults, instead of being
        a full replacement for upstream's Makefile.config.
      - PLUGSTATE changed from /var/run/lrrd to /var/lib/lrrd/plugin-state, as
        these files should persist after reboots.

 -- Tore Anderson <tore@debian.org>  Fri, 28 Nov 2003 23:30:27 +0100

lrrd (0.9.8-1) unstable; urgency=low

  * New upstream release:
    - Fixes several situations where the server would stop gathering data,
      closes: #202191, #202637, #209329, #203173.
    - The client will now drop privileges if possible, closes: #201726.
    - Makes the MySQL plugins more configurable, and uses floats instead of
      integers in the ISAM space plugin, closes: #202639, #202643.
    - Adds support for Linux 2.6 in the memory plugins, closes: #205019.
    - Better handling of unreachable nodes, closes: #205999.
  * debian/control:
    - Standards-Version 3.6.1.0, no changes required.
    - Change my email address.
    - Drop dependency on ucf.
    - Add dependency on libstorable-perl, as required by the new upstream
      release.
  * debian/Makefile.config, debian/rules:
    - Updated for the new upstream release.
  * debian/lrrd-client.postinst:
    - Use lrrd-run instead of invoking the plugins directly, to ensure their
      autoconf values are correct.
  * debian/lrrd-server.postinst:
    - Stop using ucf to handle /etc/lrrd/server.conf, instead ship is as a
      dpkg conffile.  This is made possible by using the new configuration
      setting 'use_default_name'.
  * debian/lrrd-client.postinst, debian/lrrd-server.postinst:
    - Add the system group lrrd as well as a system user, and ensure that all
      data directories are owned and writeble by these.
  * debian/plugins.conf (new):
    - Includes configuration settings for the plugins.
  * debian/lrrd-client.docs (new), debian/lrrd-server.docs (new):
    - Include the LRRD documentation, closes: #203647, #203748.
  * Makefile:
    - Generate the lrrd-run manual page from the correct POD file.
    - Disable cleaning the debian/ tree in the clean target.

 -- Tore Anderson <tore@debian.org>  Sat, 04 Oct 2003 16:40:45 +0200

lrrd (0.9.7-2) unstable; urgency=low

  * Correct path to lrrd-nagios in /etc/cron.d/lrrd-server, closes: #202803.
  * Use Net::Domain instead of /bin/hostname when generating server.conf,
    to ensure the hostname matches the client's, closes: #203960.
  * Do not determine the hostname and domain during build.
 
 -- Tore Anderson <tore@linpro.no>  Sat, 09 Aug 2003 23:09:21 +0200

lrrd (0.9.7-1) unstable; urgency=low

  * New upstream release.
    - Massive changes in build system, update debian/rules accordingly.
    - The server will now ignore unreachable nodes, and should thus not
      send root arcane error messages anymore, closes: #200487.
  * After reading through the texmf.cnf thread on debian-devel, I realize
    I've forgotten the simplizity and no-nonsense qulities about Debian
    that attracted me in the first place, and that I've fallen for the
    temptation of making the configuration scripts too pretentious and
    loquacious. Therefore, I've killed all of the Debconf questions, and
    instead enable a default set of plugins based on the autoconf and
    suggests routines, closes: #197413.
  * /etc/lrrd/client.conf is now a conffile handled by dpkg.
  * Rewrote lrrd-client's postinst in Perl.
  * Include the APT plugin in the lrrd-client package.  Hence, the
    lrrd-client package now Conflicts and Replaces lrrd-plugin-apt.
    Thanks to James Troup for the suggestion.
  * Declare the debhelper compat level in debian/compat instead of in
    debian/rules.
  * Standards-Version 3.6.0, no changes required.

 -- Tore Anderson <tore@linpro.no>  Mon, 14 Jul 2003 20:39:18 +0200
 
lrrd (0.9.6-1) unstable; urgency=low

  * Initial release, closes: #169079.

 -- Tore Anderson <tore@linpro.no>  Sat, 31 May 2003 17:15:35 +0200
